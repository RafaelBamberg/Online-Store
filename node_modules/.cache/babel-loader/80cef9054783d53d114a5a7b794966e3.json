{"ast":null,"code":"var _jsxFileName = \"/home/bamberg/Online-Store/src/Pages/Home.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Card from '../Components/Card';\nimport Categories from '../Components/Categories';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport { addProductToCart } from '../services/cartItens'; // import { getCategories } from '../services/api';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchProducts = async () => {\n      const {\n        categoryId,\n        query\n      } = this.state;\n      const products = await getProductsFromCategoryAndQuery(categoryId, query);\n      this.setState({\n        products: products.results\n      });\n    };\n\n    this.handleCategorieChange = categoryId => {\n      this.setState({\n        categoryId\n      }, this.fetchProducts);\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        query: event.target.value\n      });\n    };\n\n    this.state = {\n      // categories: [],\n      products: [],\n      categoryId: '',\n      query: ''\n    };\n  }\n\n  addToCart(product) {\n    addProductToCart(product);\n  }\n\n  render() {\n    const {\n      query,\n      products\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"search-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"search-input\",\n      \"data-testid\": \"query-input\",\n      value: query,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"query-button\",\n      onClick: this.fetchProducts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, \"Pesquisar\"), /*#__PURE__*/React.createElement(\"h1\", {\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/Cart\",\n      \"data-testid\": \"shopping-cart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, \"Carrinho\"), /*#__PURE__*/React.createElement(Categories, {\n      onChange: this.handleCategorieChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, products.map(product => {\n      const item = {\n        title: product.title,\n        image: product.thumbnail,\n        price: product.price,\n        id: product.id,\n        freeShipping: product.shipping.free_shipping\n      };\n      return /*#__PURE__*/React.createElement(Card, {\n        key: product.id,\n        product: item,\n        addToCart: this.addToCart,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      });\n    })));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/bamberg/Online-Store/src/Pages/Home.js"],"names":["React","Component","Link","Card","Categories","getProductsFromCategoryAndQuery","addProductToCart","Home","constructor","props","fetchProducts","categoryId","query","state","products","setState","results","handleCategorieChange","handleInputChange","event","target","value","addToCart","product","render","map","item","title","image","thumbnail","price","id","freeShipping","shipping","free_shipping"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Card from '../Components/Card';\nimport Categories from '../Components/Categories';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport { addProductToCart } from '../services/cartItens';\n// import { getCategories } from '../services/api';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // categories: [],\n      products: [],\n      categoryId: '',\n      query: '',\n    };\n  }\n\n  fetchProducts = async () => {\n    const { categoryId, query } = this.state;\n    const products = await getProductsFromCategoryAndQuery(categoryId, query);\n    this.setState({\n      products: products.results,\n    });\n  }\n\n  handleCategorieChange = (categoryId) => {\n    this.setState({\n      categoryId,\n    }, this.fetchProducts);\n  }\n\n  handleInputChange = (event) => {\n    this.setState({ query: event.target.value });\n  }\n\n  addToCart(product) {\n    addProductToCart(product);\n  }\n\n  render() {\n    const { query, products } = this.state;\n    return (\n      <div>\n        <label htmlFor=\"search-input\">\n          <input\n            type=\"text\"\n            id=\"search-input\"\n            data-testid=\"query-input\"\n            value={ query }\n            onChange={ this.handleInputChange }\n          />\n        </label>\n        <button\n          type=\"button\"\n          data-testid=\"query-button\"\n          onClick={ this.fetchProducts }\n        >\n          Pesquisar\n        </button>\n        <h1 data-testid=\"home-initial-message\">\n          Digite algum termo de pesquisa ou escolha uma\n          categoria.\n        </h1>\n        <Link to=\"/Cart\" data-testid=\"shopping-cart-button\">Carrinho</Link>\n        <Categories onChange={ this.handleCategorieChange } />\n        <div>\n          {products.map((product) => {\n            const item = {\n              title: product.title,\n              image: product.thumbnail,\n              price: product.price,\n              id: product.id,\n              freeShipping: product.shipping.free_shipping,\n            };\n            return (\n              <Card\n                key={ product.id }\n                product={ item }\n                addToCart={ this.addToCart }\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}